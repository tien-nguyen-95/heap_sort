<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Heap Sort</title>
  </head>
  <body>
    <script>
        function heapify(array, N, i) {
          
            let left = 2 * i + 1,
            right = 2 * i + 2,
            largest;

            if (left < N && array[left] > array[i]) largest = left;
            else largest = i;

            if (right < N && array[right] > array[largest]) largest = right;

            if (largest != i) {
              let t = array[i];
              array[i] = array[largest];
              array[largest] = t;
              heapify(array, N, largest);
            }
        }

        function buildHeap(array) {
            let m = Math.floor(array.length / 2 - 1);
            for (let i = m; i >= 0; i--) {
              heapify(array, array.length, i);
            } 
        }

        function heapSort(array) {
            buildHeap(array);
            for (let i = array.length - 1; i >= 0; i--) {
              
              let t = array[0];
              array[0] = array[i];
              array[i] = t;

              heapify(array, i, 0);
            }
        }

        function main() {
            let arr =[1,3,8,7,2,6,9,0,4,5];
            heapSort(arr);
            console.log(arr);
        }
        
        main();
    </script>
  </body>
</html>
